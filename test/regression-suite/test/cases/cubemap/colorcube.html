<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge" />

      <script type="text/javascript" src="../../../../x3dom-full_include.js"></script>
  </head>
  
  <body>

    <X3D xmlns='http://www.web3d.org/specifications/x3d-namespace' showStat='false' showLog='true' width="800px" height="600px">
      <Scene DEF='scene'>
        <Viewpoint position="0 0 4"></Viewpoint>
        <Background id='back1' 
            backUrl='"https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/cubemap/ocean_3_back.jpg"'
            bottomUrl='"https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/cubemap/ocean_3_bottom.jpg"'
            frontUrl='"https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/cubemap/ocean_3_front.jpg"' 
            leftUrl='"https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/cubemap/ocean_3_left.jpg"'
            rightUrl='"https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/cubemap/ocean_3_right.jpg"'
            topUrl='"https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/cubemap/ocean_3_top.jpg"'>
        </Background>
        <!--Background id='back2' 
            backUrl='"./bBK.png"' bottomUrl='"./bDN.png"'
            frontUrl='"./bFR.png"' leftUrl='"./bLF.png"'
            rightUrl='"./bRT.png"' topUrl='"./bUP.png"'>
        </Background-->
        <Group DEF='MIRROR_SCENE'>
          <Transform translation='0 0 -10'>
            <Shape>
              <Appearance></Appearance>
              <Box></Box>
            </Shape>
          </Transform>
        </Group>  
        <Transform>
          <Shape DEF='mirrorSphere'>
            <Appearance>
                <Material diffuseColor=".7 .7 .7" specularColor=".5 .5 .5" shininess='100.0'></Material>
                <ComposedCubeMapTexture repeatS="false" repeatT="false">
                    <ImageTexture containerField="back" url="https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/imageFormats/test_image.jpg"></ImageTexture>
                    <ImageTexture containerField="bottom" url="https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/imageFormats/test_image.png"></ImageTexture>
                    <!--ImageTexture containerField="front" crossorigin='anonymous' url="https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/imageFormats/test_image.jpg"></ImageTexture-->
                    <RenderedTexture containerField="front" id='myRenderedTexture' update='always' dimensions='512 512 4' 
                                     repeatS='false' repeatT='false' >
                      <Shape USE='mirrorSphere' containerField='excludeNodes' ></Shape>                      
                      <Background skyColor='1 1 1' groundColor='1 1 1' containerField='background'></Background>
                      <Viewpoint id='myMirrorTextureViewPoint' orientation='0 1 0 3.1415' zNear="0.1" zFar="1000" containerField='viewpoint' ></Viewpoint>
                      <Group USE='MIRROR_SCENE'>                         
                      </Group>
                    </RenderedTexture>
                    <ImageTexture containerField="left" url="https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/imageFormats/test_image.gif"></ImageTexture>
                    <ImageTexture containerField="right" url="https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/imageFormats/test_image.gif"></ImageTexture>
                    <ImageTexture containerField="top" url="https://raw.githubusercontent.com/andreasplesch/x3dom/cubemap/test/regression-suite/test/cases/imageFormats/test_image.png"></ImageTexture-->
                    
                </ComposedCubeMapTexture>

            </Appearance>
            <Sphere solid="false" ></Sphere>
          </Shape>
        </Transform>
        
      </Scene>
    </X3D>
  </body>
</html>
